name: 'Fetch PR Details Between Merges'
description:
  'Retrieve pull requests, their SHAs, and authors between two specified merge
  commits.'
inputs:
  github-token:
    description: 'GitHub token used for authentication with the GitHub API.'
    required: false
    default: ${{ github.token }}
  repo-owner:
    description: 'Owner of the repository (user or organization).'
    required: false
    default: ${{ github.repository_owner }}
  repo-name:
    description: 'Repository name where the action will run.'
    required: false
    default: ${{ github.event.repository.name }}
  from-sha:
    description: 'SHA of the first merge commit.'
    required: true
  to-sha:
    description: 'SHA of the second merge commit.'
    required: true
outputs:
  pr-details:
    description: >
      JSON formatted string containing details of all pull requests between the
      specified commits. The format of each pull request object is as follows: -
      "merge_user": The GitHub username of the user who merged the pull request.
      - "pr_md_link": Markdown formatted link and title of the pull request,
      pointing to GitHub.

      Example output: values: [
        {
          "merge_user": "johndoe",
          "pr_md_link":
      "<https://github.com/<organization>/<repository>/pull/123|Fix login
      issue>"
        },
        {
          "merge_user": "janedoe",
          "pr_md_link":
      "<https://github.com/<organization>/<repository>/pull/124|Add new feature
      for handling API requests>"
        }
      ]
runs:
  using: 'node20'
  main: 'dist/index.js'
